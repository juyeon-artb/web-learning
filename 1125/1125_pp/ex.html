<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>JS ì—°ìŠµ: ìŠ¬ë¼ì´ë“œ & ì¢‹ì•„ìš” ë²„íŠ¼</title>

    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 600px;
        margin: 40px auto;
        text-align: center;
      }

      h2 {
        margin-top: 40px;
      }

      /* ğŸ”¹ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë” ì˜ì—­ */
      .slider {
        width: 100%;
        max-width: 500px;
        height: 300px;
        margin: 0 auto;
        border-radius: 10px;
        overflow: hidden;
        border: 2px solid #ddd;
        position: relative;
      }

      .slider img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: none; /* ê¸°ë³¸ì€ ìˆ¨ê¹€ */
      }

      .slider img.active {
        display: block; /* í˜„ì¬ ë³´ì´ëŠ” ê²ƒë§Œ ë³´ì—¬ì¤Œ */
      }

      /* ğŸ”¹ ì¢‹ì•„ìš” ë²„íŠ¼ */
      #likeBtn {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 18px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        background-color: #eee;
        transition: transform 0.1s ease;
      }

      #likeBtn.liked {
        background-color: #ffdde5;
      }

      #likeBtn:active {
        transform: scale(0.95);
      }

      #likeCount {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <!-- ======================= -->
    <!-- 1. ì´ë¯¸ì§€ ìë™ ìŠ¬ë¼ì´ë“œ -->
    <!-- ======================= -->
    <h2>ì´ë¯¸ì§€ 3ê°œ ìë™ ìŠ¬ë¼ì´ë“œ</h2>
    <p>2ì´ˆë§ˆë‹¤ ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ìë™ìœ¼ë¡œ ë„˜ì–´ê°€ìš”.</p>

    <div class="slider">
      <!-- ğŸ‘‰ ì´ ì„¸ ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ë„¤ê°€ ê°€ì§„ ì´ë¯¸ì§€ íŒŒì¼ë¡œ ë°”ê¿”ë„ ë¨ -->
      <img src="cat1.PNG" class="active" />
      <img src="cat2.PNG" />
    </div>

    <!-- =================== -->
    <!-- 2. ì¢‹ì•„ìš” ë²„íŠ¼ ì˜ˆì œ -->
    <!-- =================== -->
    <h2>ì¢‹ì•„ìš” ë²„íŠ¼</h2>
    <p><span id="likeCount">0</span>ëª…ì´ ì´ ê¸€ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.</p>
    <button id="likeBtn">ğŸ¤ ì¢‹ì•„ìš”</button>

    <!-- =================== -->
    <!--      JavaScript     -->
    <!-- =================== -->
    <script>
      // ============================
      // 1. ì´ë¯¸ì§€ ìë™ ìŠ¬ë¼ì´ë” ì½”ë“œ
      // ============================

      // ë³€ìˆ˜: ìŠ¬ë¼ì´ë”ì— ìˆëŠ” ëª¨ë“  ì´ë¯¸ì§€ë“¤ì„ ê°€ì ¸ì˜´
      const images = document.querySelectorAll(".slider img");
      const totalImages = images.length; // ì´ë¯¸ì§€ ê°œìˆ˜
      let currentIndex = 0; // í˜„ì¬ ë³´ì—¬ì£¼ê³  ìˆëŠ” ì´ë¯¸ì§€ ë²ˆí˜¸(0ë¶€í„° ì‹œì‘)

      // í•¨ìˆ˜: indexì— í•´ë‹¹í•˜ëŠ” ì´ë¯¸ì§€ë§Œ í™”ë©´ì— ë³´ì´ê²Œ í•˜ê¸°
      function showImage(index) {
        // ë£¨í”„(for): ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ìˆ¨ê¸°ê¸°
        for (let i = 0; i < totalImages; i++) {
          images[i].classList.remove("active");
        }

        // ì¡°ê±´ë¬¸: indexê°€ ë²”ìœ„ ì•ˆì— ìˆì„ ë•Œë§Œ ì‹¤í–‰ (ì•ˆì „ì¥ì¹˜ ëŠë‚Œ)
        if (index >= 0 && index < totalImages) {
          images[index].classList.add("active");
        }
      }

      // í•¨ìˆ˜: ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ë„˜ì–´ê°€ê¸°
      function nextImage() {
        // ì—°ì‚°ì: í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ 1 ì¦ê°€
        currentIndex = currentIndex + 1;

        // ì¡°ê±´ë¬¸: ë§ˆì§€ë§‰ ì´ë¯¸ì§€ ë‹¤ìŒì—ëŠ” ë‹¤ì‹œ 0ë²ˆìœ¼ë¡œ ëŒì•„ê°€ê²Œ
        if (currentIndex >= totalImages) {
          currentIndex = 0;
        }

        showImage(currentIndex);
      }

      // ì¬ê·€ ëŠë‚Œìœ¼ë¡œ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ (setTimeout ì•ˆì—ì„œ ìê¸° ìì‹ ì„ ë‹¤ì‹œ í˜¸ì¶œ)
      function startAutoSlide() {
        // ë¨¼ì € í˜„ì¬ ì´ë¯¸ì§€ ë³´ì—¬ì£¼ê¸°
        showImage(currentIndex);

        // 2ì´ˆ í›„ì— nextImage ì‹¤í–‰í•˜ê³ ,
        // ê·¸ ë‹¤ìŒì— ë˜ startAutoSlideë¥¼ ë‹¤ì‹œ í˜¸ì¶œ â†’ ì¬ê·€ì  êµ¬ì¡°
        setTimeout(function run() {
          nextImage();
          setTimeout(run, 2000); // 2ì´ˆë§ˆë‹¤ runì´ ìŠ¤ìŠ¤ë¡œë¥¼ ë‹¤ì‹œ í˜¸ì¶œ
        }, 2000);
      }

      // ìŠ¬ë¼ì´ë” ìë™ ì‹œì‘
      startAutoSlide();

      // ============================
      // 2. ì¢‹ì•„ìš” ë²„íŠ¼ ì½”ë“œ
      // ============================

      // ë³€ìˆ˜: ë²„íŠ¼ê³¼ ìˆ«ì í‘œì‹œí•˜ëŠ” ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
      const likeBtn = document.getElementById("likeBtn");
      const likeCountText = document.getElementById("likeCount");

      let likeCount = 0; // í˜„ì¬ ì¢‹ì•„ìš” ìˆ˜
      let isLiked = false; // ë‚´ê°€ ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ëŠ”ì§€ ì—¬ë¶€

      // í•¨ìˆ˜: ì¢‹ì•„ìš” ìˆ˜ í™”ë©´ì— ë°˜ì˜í•˜ê¸°
      function updateLikeText() {
        likeCountText.textContent = likeCount;
      }

      // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
      likeBtn.addEventListener("click", function () {
        // ì¡°ê±´ë¬¸: ì§€ê¸ˆ ìƒíƒœì— ë”°ë¼ ëˆŒë €ì„ ë•Œ ì²˜ë¦¬ ë‹¤ë¥´ê²Œ
        if (isLiked === false) {
          // ì•„ì§ ì•ˆ ëˆ„ë¥¸ ìƒíƒœ â†’ ì¢‹ì•„ìš” ì¶”ê°€
          likeCount = likeCount + 1; // ì—°ì‚°ì ì‚¬ìš©(+)
          isLiked = true;
          likeBtn.classList.add("liked");
          likeBtn.textContent = "â¤ï¸ ì¢‹ì•„ìš” ì·¨ì†Œ";
        } else {
          // ì´ë¯¸ ëˆ„ë¥¸ ìƒíƒœ â†’ ì¢‹ì•„ìš” ì·¨ì†Œ
          likeCount = likeCount - 1; // ì—°ì‚°ì ì‚¬ìš©(-)
          isLiked = false;
          likeBtn.classList.remove("liked");
          likeBtn.textContent = "ğŸ¤ ì¢‹ì•„ìš”";
        }

        // í•¨ìˆ˜ í˜¸ì¶œ: í™”ë©´ì— ìˆ«ì ì—…ë°ì´íŠ¸
        updateLikeText();
      });
    </script>
  </body>
</html>
